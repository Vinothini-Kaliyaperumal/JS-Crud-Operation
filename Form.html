<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>Signup-Form</title>
</head>
<body>
  <div>
    <div class="main-div">
      <div class="content">
        <div class="text">Sign Up</div>
        <form id="userForm">
          <input type="hidden" id="userId" value="">
          <div class="d-flex name">
            <div class="p-2">
              <label for="userName">Username</label>
              <input type="text" placeholder="Enter your name" id="userName" required>
            </div>
            <div class="p-2">
              <label for="userPassword">Password</label>
              <input type="password" placeholder="Password" id="userPassword" required>
            </div>
          </div>
         
          <div class="d-flex">
            <div class="p-2">
              <label for="userEmail">Email</label>
              <input type="email" id="userEmail" placeholder="Enter your email" required>
            </div>
            <div class="p-2 w-50">
              <label for="userDate">Date of Birth</label>
              <input type="date" id="userDate" placeholder="Enter birth date" required>
            </div>
          </div>
          
          <div class="d-flex">
            <div class="p-2">
              <label for="userNo">Mobile Number</label>
              <input type="tel" id="userNo" placeholder="Enter mobile number" required>
            </div>
            <div class="p-2">
              <label for="userAge">Age</label>
              <input type="number" id="userAge" placeholder="Enter your age" required>
            </div>
          </div>
          
          <div class="d-flex">
            <div class="p-2 w-50">
              <label for="userGender">Gender</label>
              <select name="Gender" class="select" id="userGender" required>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
              </select>
            </div>
            <div class="p-2 w-50">
              <label for="userRole">Role</label>
              <select name="role" class="select" id="userRole" required>
                <option value="UI">UI</option>
                <option value="UX">UX</option>
                <option value="Backend">Backend</option>
              </select>
            </div>
          </div>
          <div class="button">
            <input type="submit" value="Submit">
          </div>
        </form>
      </div>
    </div>
  
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const userForm = document.getElementById('userForm');
        const userIdInput = document.getElementById('userId');
        const userNameInput = document.getElementById('userName');
        const userPasswordInput = document.getElementById('userPassword');
        const userEmailInput = document.getElementById('userEmail');
        const userDateInput = document.getElementById('userDate');
        const userNoInput = document.getElementById('userNo');
        const userAgeInput = document.getElementById('userAge');
        const userGenderInput = document.getElementById('userGender');
        const userRoleInput = document.getElementById('userRole');

        const params = new URLSearchParams(window.location.search);
        const userId = params.get('id');

        if (userId) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(user => user.id === parseInt(userId));

            if (user) {
                userIdInput.value = user.id;
                userNameInput.value = user.name;
                userPasswordInput.value = user.password;
                userEmailInput.value = user.email;
                userDateInput.value = user.date;
                userNoInput.value = user.mobile;
                userAgeInput.value = user.age;
                userGenderInput.value = user.gender;
                userRoleInput.value = user.role;
            }
        }

        userForm.addEventListener('submit', function(event) {
            event.preventDefault();

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const newUser = {
                id: userId ? parseInt(userId) : (users.length ? users[users.length - 1].id + 1 : 1),
                name: userNameInput.value,
                password: userPasswordInput.value,
                email: userEmailInput.value,
                date: userDateInput.value,
                mobile: userNoInput.value,
                age: userAgeInput.value,
                gender: userGenderInput.value,
                role: userRoleInput.value
            };

            if (userId) {
                const index = users.findIndex(user => user.id === parseInt(userId));
                if (index !== -1) {
                    users[index] = newUser;
                }
            } else {
                users.push(newUser);
            }

            localStorage.setItem('users', JSON.stringify(users));
            window.location.href = 'table.html';
        });
    });
</script>
</body>
</html>

 

